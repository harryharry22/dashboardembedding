<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Document Title</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DEP93SGPBK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-DEP93SGPBK');
  </script>

</head>
<body>
  <h1>배포 테스트</h1>

  <form id="ageForm">
    <label for="age">나이:</label>
    <input type="number" id="age" name="age">
    <input type="submit" value="제출">
  </form>

  <button id="moreButton" style="background-color: red; color: white;">좋아요</button>

  <script>
    document.getElementById('ageForm').addEventListener('submit', function(event) {
      event.preventDefault(); // 폼 제출 방지
      var age = document.getElementById('age').value; // 나이 값 가져오기

      // 사용자 연령대 계산 (예시: 20-29, 30-39)
      var ageRange = Math.floor(age / 10) * 10 + "-" + (Math.floor(age / 10) * 10 + 9);

      // GA4로 사용자 연령대 이벤트 전송
      gtag('event', 'age_range_submission', {
        'age_range': ageRange
      });
    });

    // 여기에 추가 이벤트 추적 코드를 넣으세요
    document.getElementById('ageForm').addEventListener('submit', function(event) {
    event.preventDefault();
    var age = document.getElementById('age').value;
    var userId = '사용자_고유_ID'; // 실제 사용자 ID를 여기에 할당합니다.
    var ageRange = Math.floor(age / 10) * 10 + "-" + (Math.floor(age / 10) * 10 + 9);

    // 사용자 ID와 함께 이벤트를 추적합니다.
    gtag('event', 'age_range_submission', {
      'user_id': userId, // 사용자 ID를 추가합니다.
      'age_range': ageRange
    });
  });



    window.addEventListener('scroll', function() {
      if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
        gtag('event', 'scroll_to_bottom', {
          'event_category': 'engagement',
          'event_label': 'scroll_bottom'
        });
      }
    });

    document.getElementById('moreButton').addEventListener('click', function() {
      gtag('event', 'click_more_button', {
        'event_category': 'engagement',
        'event_label': 'more_button'
      });
    });

  </script>

<script type="module" src="https://public.tableau.com/javascripts/api/tableau.embedding.3.latest.min.js"></script>

<div class='tableauPlaceholder' id='viz1713511678827' style='position: relative'><noscript><a href='#'><img alt='재무정보 대시보드 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;DA&#47;DATAEXTRACTIONREPORT_&#47;sheet3&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='DATAEXTRACTIONREPORT_&#47;sheet3' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;DA&#47;DATAEXTRACTIONREPORT_&#47;sheet3&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='ko-KR' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1713511678827');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1366px';vizElement.style.height='795px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1366px';vizElement.style.height='795px';} else { vizElement.style.width='100%';vizElement.style.height='3277px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>

</tableau-viz>

</body>
</html>